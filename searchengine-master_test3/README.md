Search Engine

Описание проекта
Search Engine — это приложение, которое индексирует страницы указанных веб-сайтов 
и предоставляет возможность быстрого поиска информации по ним. Проект включает веб-интерфейс с 
вкладками для отображения статистики, управления индексацией и выполнения поисковых запросов.

Проект разработан с использованием Spring Framework и других популярных библиотек на языке Java.
Основная цель — продемонстрировать использование ООП, многопоточности, работы с базами данных,
сетевыми запросами и алгоритмами обработки текста.

Функциональность
•	Индексация сайтов: Полная индексация или переиндексация страниц указанных сайтов.
•	Добавление страниц: Возможность добавления/обновления отдельных страниц.
•	Поиск: Выполнение полнотекстового поиска с использованием лемматизации.
•	Статистика: Отображение общей и детальной статистики по сайтам.
•	API: Поддержка взаимодействия через REST API.

Веб-интерфейс уже существует и описан в техническом задании:

Интерфейс состоит из трех вкладок:
1.	Dashboard: Общая статистика и статус по всем сайтам.
2.	Management: Инструменты управления индексацией (запуск, остановка, добавление страниц).
3.	Search: Поле для выполнения поисковых запросов.

Используемый стек технологий
•	Язык: Java 17
•	Фреймворк: Spring Boot 2.7.1
•	Библиотеки:
•	Hibernate — работа с базой данных
•	Jsoup — парсинг HTML
•	Apache Lucene Morphology — лемматизация
•	Lombok — удобное написание кода
•	База данных: MySQL

Как запустить проект

Требования:
•	Java: версия 17
•	Maven: для сборки проекта
•	MySQL: версия 8.0+
Инструкции:
1.	Клонируйте проект из репозитория.
2.	Настройте файл application.yaml, добавив URL-адреса и названия сайтов для индексации.
3.	Выполните сборку проекта:
      mvn clean install
4. 	Запустите приложение:
      mvn spring-boot:run
5.	Доступ к веб-интерфейсу: http://localhost:8080.

Пример API-запроса

Запуск полной индексации
Запрос: GET /startIndexing
Пример ответа:
{
"result": true
}
Возможная ошибка при запуске индексации:
{
"result": false,
"error": "Индексация уже запущена"
}

Структура проекта
model:
•	SiteEntity, Page, Lemma, Index — сущности базы данных.
repository:
•	SiteRepository, PageRepository, LemmaRepository, IndexRepository — интерфейсы для работы с БД.
services:
•	Логика приложения, включая индексацию, поиск и управление данными.
•	Основные классы: IndexingServices, LemmaAndIndexServices, SiteMapRecursiveAction LemmaFinder, 
    ParseHtml, SearchService
controllers:
•	DefaultController, ApiController — обработка запросов.
dto:
•	Классы для передачи данных: SearchResult, IndexingResponse, TotalStatistics.
config:
•	Настройки проекта: AppConfig, Site, SiteList.

Основные классы

1. IndexingService
Этот класс отвечает за управление процессом индексации сайтов.
Основные функции:
•	Запуск полной или частичной индексации сайтов.
•	Остановка текущего процесса индексации.
•	Сохранение результатов индексации в базу данных (Site, Page, Lemma, Index).
•	Обработка ошибок индексации, обновление статусов сайтов.

Пример использования:
•	Метод startIndexing запускает процесс индексации всех сайтов, 
используя SiteMapRecursiveAction для рекурсивного обхода структуры сайта.

2. LemmaAndIndexService
Этот класс реализует работу с леммами и индексами, связывающими страницы и леммы.
Основные функции:
•	Вычисление веса (рейтинга) лемм на определённой странице.
•	Обновление таблиц Lemma и Index в базе данных.
•	Удаление устаревших данных при переиндексации.

Пример метода:
•   processPageContent(Page page) - метод который получает текст страницы, очищает ее от разметки, 
получает с нее список лемм с частотой, и сохраняет леммы и индексы.

•	getLemmaRank(int pageId, int lemmaId) — возвращает значение “веса” леммы на конкретной странице.

3. LemmaFinder
Класс предназначен для лемматизации текста.
Основные функции:
•	Преобразование текста в список лемм (с использованием библиотек Lucene Morphology как на русском так
и на английском языке).
•	Исключение из анализа стоп-слов (предлогов, союзов и т.д.).
•	Подсчёт количества вхождений каждой леммы.

Пример работы:
•	Метод collectLemmas(String text) возвращает карту, где ключ — лемма, а значение — количество её вхождений

4. ParseHtml
Класс, отвечающий за парсинг HTML-контента страниц.
Основные функции:
•	Извлечение HTML-кода с помощью Jsoup.
•	Извлечение всех ссылок (<a> теги) с текущей страницы.
•	Фильтрация ссылок по доменам и типам файлов.

Пример методов:
•	getContent(String url) возвращает HTML-контент страницы.
•	getLinks(String url) возвращает список ссылок, найденных на странице.

5. SiteMapRecursiveAction
Класс реализует рекурсивное построение карты сайта и обход страниц.
Основные функции:
•	Построение структуры сайта (siteMap).
•	Обход ссылок и сохранение данных о страницах (Page).
•	Рекурсивный вызов для дочерних ссылок.

Пример работы:
основной метод  compute() в котором собирается информация,
запускает рекурсивный обход сайта, начиная с главной страницы и сохраняя страницы
и сайт в репозиториях.

6. SearchService
Класс отвечает за выполнение поисковых запросов.
Основные функции:
•	Поиск страниц с учетом лемм, соответствующих запросу.
•	Расчёт релевантности каждой страницы.
•	Формирование результатов поиска для отображения.

Пример работы:
•	Метод search(String query, String siteUrl) возвращает список результатов поиска,
включая URL страницы, фрагмент текста (сниппет) и релевантность.